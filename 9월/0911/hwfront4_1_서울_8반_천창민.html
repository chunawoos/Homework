<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<style type="text/css">
			#calc { 
				border: 1px solid  gray;
				width: 350px;
				text-align: center;	
			}
			#formula{
				text-align: right;
				width: 80%;
				margin-top: 10px;
				margin-bottom: 10px;
			}  
			#resultDiv{
				text-align: left;
				margin-left: 40px;
			}
			button{
				width:70px;
				height:70px;
				margin-bottom: 5px;
			}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script type="text/javascript">
			var flag = false;
			$('document').ready(function() {				
				$("button").click(function(){
					var val = $(this).text();
					var fomula = $('#formula').val();
					var last = fomula.charAt(fomula.length-1);
					switch(val) {
					case "+": case "-":	case "*": case "/":
						if(fomula == ''){
							alert("잘못된 입력입니다.");
						}
						else if(isNaN(last)) {
							$("#formula").val(fomula.substr(0, formulaVal.length - 1) + val);
						} else {
							$("#formula").val(fomula + val);
						}
						if(flag) flag = false;
						break;
					case "=":
						if(fomula == ''){
							alert("잘못된 계산식입니다.");
						}
						else if(isNaN(last)){
							alert("잘못된 계산식입니다.");
						}
						else if(fomula == eval(fomula)){}
						else{
							$('#result').append("<li>"+fomula+"="+eval(fomula)+"</li>");
							flag = true;
						}
						break;
					case "CE":
						$('#formula').val('');
						break;
					default:
						if(flag || fomula == '' || (fomula.length == 1 && fomula == "0")){
							if(flag) flag = false;
							formula.value = val;
						}
						else {
							if(isNaN(fomula.charAt(fomula.length - 2))){
								if(last == "0"){
									$("#formula").val(fomula.substr(0, formulaVal.length - 1) + val);
								}
								else $("#formula").val(fomula + val);
							}
							else $("#formula").val(fomula + val);
						}
						break;
					}
				});
			})
		</script>
	</head>
	<body>
		 <div id='calc'>
		 	<input 	type='text' id='formula' value='' 
		 			placeholder='0.0' readonly="readonly"/>
		 	<div id='pad'>
		 		<button>7</button>
		 		<button>8</button>
		 		<button>9</button>
		 		<button>+</button>
		 		<button>4</button>
		 		<button>5</button>
		 		<button>6</button>
		 		<button>-</button>
		 		<button>1</button>
		 		<button>2</button>
		 		<button>3</button>
		 		<button>*</button>
		 		<button>0</button>
		 		<button>CE</button>
		 		<button>=</button>
		 		<button>/</button>
		 	</div>	
		 	<div id='resultDiv'>
		 		<h2>결과 이력</h2>
		 		<ol id="result"></ol>
		 	</div>	
		 </div>
	</body>
</html>






